<!-- Header Container Start -->
<div class="header-container">
  <div class="logo-section">
    <img src="../../../assets/combineLogo.png" alt="Vedanta/ESL" class="combineLogo" />
  </div>
  <div class="title-section">
    <h2 class="title">VGCB</h2>
    <div class="subtitle">Perceptron Software Labs Pvt. Ltd.</div>
  </div>
  <div class="right-section">
    <img src="../../../assets/logo.png" alt="Perceptron Logo" class="logo" />
    <button class="logout-button-wrapper" aria-label="Logout" (click)="logout()">
      <img src="../../../assets/logout.png" alt="Logout" class="logout-btn" />
    </button>
  </div>
</div>
<!-- Header Container END -->

<!-- Table Container Start -->
<div class="container-fluid">
  <div class="row mt-4">
    <div class="col-md-3 mb-2">
      <label for="dateField" class="form-label">Select Date</label>
      <input id="dateField" type="date" class="form-control" [(ngModel)]="selectedDate" name="dateField" />
    </div>

    <div class="col-md-3 mb-2">
      <label for="inputVal" class="form-label">Truck No / Transaction No</label>
      <input id="inputVal" type="text" class="form-control" placeholder="Enter Truck/Transaction No"
        [(ngModel)]="inputVal" name="inputVal" />
    </div>

    <div class="col-md-2 mb-2 d-flex align-items-end">
      <button class="btn btn-success w-100 me-2" (click)="searchData()">
        Search
      </button>
      <button class="btn btn-danger w-100" (click)="clearData()">
        Clear
      </button>
    </div>

  </div>

  <div class="row mt-3">
    <div class="col-12">
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>

        <ng-container matColumnDef="slNo">
          <th mat-header-cell *matHeaderCellDef>SL No.</th>
          <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
        </ng-container>

        <ng-container matColumnDef="TruckNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Truck No</th>
          <td mat-cell *matCellDef="let element">{{ element.TruckNo }}</td>
        </ng-container>

        <ng-container matColumnDef="TransactionNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Transaction No</th>
          <td mat-cell *matCellDef="let element">{{ element.TransactionNumber }}</td>
        </ng-container>

        <ng-container matColumnDef="GrossWeight">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Gross Weight</th>
          <td mat-cell *matCellDef="let element">{{ element.GrossWeight }}</td>
        </ng-container>

        <ng-container matColumnDef="TareWeight">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Tare Weight</th>
          <td mat-cell *matCellDef="let element">{{ element.TareWeight }}</td>
        </ng-container>

        <ng-container matColumnDef="NetWeight">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Net Weight</th>
          <td mat-cell *matCellDef="let element">{{ element.NetWeight }}</td>
        </ng-container>

        <ng-container matColumnDef="STONumber">
          <th mat-header-cell *matHeaderCellDef>STO Number</th>
          <td mat-cell *matCellDef="let element">{{ element.STONumber }}</td>
        </ng-container>

        <ng-container matColumnDef="CargoGrade">
          <th mat-header-cell *matHeaderCellDef>Cargo Grade</th>
          <td mat-cell *matCellDef="let element">{{ element.CargoGrade }}</td>
        </ng-container>

        <ng-container matColumnDef="CustomerName">
          <th mat-header-cell *matHeaderCellDef>Customer Name</th>
          <td mat-cell *matCellDef="let element">{{ element.CustomerName }}</td>
        </ng-container>

        <ng-container matColumnDef="VesselName">
          <th mat-header-cell *matHeaderCellDef>Vessel Name</th>
          <td mat-cell *matCellDef="let element">{{ element.VesselName }}</td>
        </ng-container>

        <ng-container matColumnDef="SecurityInDateTime">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Time</th>
          <td mat-cell *matCellDef="let element">{{ element.RegDateTime | date:'dd/MMM/yyyy HH:mm' }}</td>
        </ng-container>

        <ng-container matColumnDef="Print">
          <th mat-header-cell *matHeaderCellDef> Print </th>
          <td mat-cell *matCellDef="let element">
            <button class="btn btn-info" (click)="printRow(element)">
              <img src="../../../assets/printer.png" alt="Print" style="width: 20px; height: 20px;" />
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        
      </table>

      <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
  </div>
</div>

<!-- Table Container END -->

<!-- Footer Start -->
<div class="footer">
  <p style="user-select: none;">Â© 2025 Perceptron Software Labs. All rights reserved.</p>
</div>
<!-- Footer Start -->